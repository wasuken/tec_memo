# 実践テスト駆動開発

[実践テスト駆動開発 (Object Oriented SELECTION) | Steve Freeman, Nat Pryce, 和智 右桂, 高木 正弘 |本 | 通販 | Amazon](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95%E9%96%8B%E7%99%BA-Object-Oriented-SELECTION-Freeman/dp/4798124583)

やっていき。

## 八章

サードパーティーコードの上に構築する。

サードパーティーコードとは、標準APIやOSSライブラリ、ベンダの製品をさす。

### モック

#### 変更できない型をモックしてはならない

サードパーティの型に対して、モックを提供しても限られた使い方しかできない。

こうした場合、テストコードが複雑な処理になる可能性がある。

また、モックとサードパーティの振る舞いを正確に合致させなければならない。

アップグレードのたびにテストを確認する必要がある。

そのためのテストだから私は正しいと思うのだが。

テストの時とかにいちいちサードパーティの機能を叩くわけにはいかないので、当然モックという選択肢が出てくるはずだが、

それに対する否定だろうか。

#### アダプタ層をかく

外部APIをモックしたくないのであれば、アダプタオブジェクトを実装する。

なお、例外の送出等が実際のものを使うと難しい時とかモックが役に立つ例外的な場合も存在する。
