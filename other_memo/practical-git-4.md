# 実用Git

[実用Git | Jon Loeliger, 吉藤 英明 (監訳), 本間 雅洋, 渡邉 健太郎, 浜本 階生 |本 | 通販 | Amazon](https://www.amazon.co.jp/%E5%AE%9F%E7%94%A8Git-Jon-Loeliger/dp/4873114403)

やっていき。

## コミット

水面下では他のVCSとは一味違う動作をしている。

コミットが発生するとインデックスのスナップショットをとり、オブジェクト格納領域へ保存する。

Gitは頻繁なコミットに適している。

### アトミックなチェンジセット

コミットは全て、以前の状態に対する単一のアトミックなチェンジセット。

どのような条件にもかかわらず、全て適用されるか、されないかのどちらか。

### 参照とシンボリック参照

* 参照

オブジェクトを識別するSHA1ハッシュID

* シンボリック参照

オブジェクトを間接的にさす名前。

全てrefs/で始まる。三つの名前空間がある。

	* refs/heads/ref

	* refs/tags/ref

	* refs/remotes/ref

その他シンボリック参照

* HEAD

カレントディレクトリの先頭。

* ORIG_HEAD

マージやリセット時に、HEADが新しい値にされる前に、前のHEAD値をここに書き込む。

* FETCH_HEAD

リモートリポジトリが使われている場合は、git fetchしたブランチの先頭を記録する。

フェッチ直後のみ有効。

* MERGE_HEAD

マージ操作を行なっているときに、もう片方のブランチの先頭が書き込まれる。

---

これらはgit symbolic-refで確認できる。

### 相対的なコミット名

masterやmaster^みたいなやつ。

### コミットログ

git logで基本的に確認できる。

### コミットレンジ

start..end

master^12..master^みたいな感じで範囲を指定できる。

### git bisect

任意の検索条件により、特定の欠陥のあるコミットを分離できる。

リグレッションやバグをリポジトリに持ち込んでしまった時に使う。

主に二分探索で範囲を狭めていって、どこからダメなのかを特定する。

### git blame

これを使うとファイルの各行の最後の編集者と、どのコミットで起きたのかがわかる。

### git log -S <string>

ファイルの差分の履歴を遡ってstringで検索できる。

## 所感

コミットだけでもここまでかけるもんなのか。

シンボリック参照とか初めて知った。
